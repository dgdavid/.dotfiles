" Let vim and neovim share the same plugin directory
let g:spacevim_plug_home = '~/.vim/plugged'

" Shipped layers in
let g:spacevim_layers = [
      \ 'fzf', 'ctrlp', 'better-defaults', 'airline',
      \ 'file-manager',
      \ 'programming', 'editing', 'auto-completion', 'text-align',
      \ 'ruby', 'html',
      \ 'which-key',
      \ 'git',
      \ 'syntax-checking'
      \ ]

" Private plugins
function! UserInit()
    Plug 'shime/vim-livedown'
    Plug 'thiagoalessio/rainbow_levels.vim', { 'on': 'RainbowLevelsToggle' }
    Plug 'mbbill/undotree'

    Plug 'morhetz/gruvbox'
endfunction

" Override the default settings
function! UserConfig()
    set wrap
    set linebreak

    " Italics for comments
    let g:one_allow_italics = 1

    set background=dark
    colorscheme gruvbox

    hi Comment cterm=italic ctermfg=249

    " https://github.com/liuchengxu/space-vim/issues/184#issuecomment-314318529
    set <F20>=
    set <F21>=

    " Persistent undo
    set undofile
    set undodir=~/.vimundo

    " To spell check
    au BufNewFile,BufRead COMMIT_EDITMSG set spell " git commit
    au BufNewFile,BufRead *.md set spell " markdown

    " Underline misspelled words
    hi clear SpellBad
    hi SpellBad ctermfg=1 ctermbg=7 cterm=bold

    " Set text width for commit messages
    au FileType gitcommit set tw=72

    " Crlp custom configuration
    let g:ctrlp_by_filename = 0
    let g:ctrlp_working_path_mode = 'rc'
    let g:ctrlp_regexp = 0

    " Rainbow indent
    map <leader>l :RainbowLevelsToggle<cr>
endfunction
